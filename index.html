<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å±¥æ­´ä½œæˆã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ æœ€çµ‚ç‰ˆ</title>
    <style>
        :root { --primary: #0056b3; --success: #28a745; --ai-color: #6200ee; --bg: #f8f9fa; }
        body { font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif; background-color: var(--bg); padding: 20px; line-height: 1.6; }
        .container { max-width: 1100px; margin: 0 auto; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        h2 { color: var(--primary); border-bottom: 2px solid var(--primary); padding-bottom: 10px; margin-top: 0; }
        .tabs { display: flex; gap: 8px; margin-bottom: 25px; flex-wrap: wrap; }
        .tab-btn { padding: 12px 20px; cursor: pointer; border: 1px solid #ddd; background: #fff; border-radius: 6px; transition: 0.3s; font-weight: bold; }
        .tab-btn.active { background: var(--primary); color: #fff; border-color: var(--primary); }
        .grid-form { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .form-group { display: flex; flex-direction: column; }
        .full-width { grid-column: 1 / -1; }
        .section-title { grid-column: 1 / -1; background: #f0f4f8; padding: 5px 10px; font-weight: bold; border-left: 4px solid var(--primary); margin-top: 10px; font-size: 0.9em; }
        label { font-size: 0.85em; font-weight: bold; margin-bottom: 3px; color: #555; }
        input, textarea, select { padding: 8px; border: 1px solid #ccc; border-radius: 5px; font-size: 14px; }
        textarea { min-height: 80px; resize: vertical; }
        .output-container { margin-top: 30px; background: #2d3436; padding: 20px; border-radius: 8px; color: #dfe6e9; }
        #output { white-space: pre-wrap; font-family: monospace; font-size: 13px; line-height: 1.5; background: #1e272e; padding: 15px; border-radius: 5px; border: 1px solid #3d4e5f; min-height: 200px; }
        .copy-btn { margin-top: 15px; padding: 15px; background: var(--success); color: #fff; border: none; border-radius: 6px; cursor: pointer; width: 100%; font-size: 16px; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ“‹ å±¥æ­´ä½œæˆã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ æœ€çµ‚æ§‹æˆ</h2>
    <div class="tabs">
        <button class="tab-btn active" onclick="renderForm('juden')">å—é›»</button>
        <button class="tab-btn" onclick="renderForm('kaden')">æ¶é›»</button>
        <button class="tab-btn" onclick="renderForm('cancel')">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        <button class="tab-btn" onclick="renderForm('denki')">é›»æ°—å»ƒæ­¢</button>
        <button class="tab-btn" onclick="renderForm('gas')">ã‚¬ã‚¹å»ƒæ­¢</button>
    </div>

    <div id="form-content" class="grid-form"></div>

    <div class="output-container">
        <div id="output"></div>
        <button class="copy-btn" onclick="copyToClipboard()">å±¥æ­´ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>
    </div>
</div>

<script>
    const configs = {
        juden: {
            title: "",
            fields: [
                { id: "moushikomi", label: "ã€‡ç”³è¾¼æ›¸ç•ªå·", type: "text" },
                { id: "staff_name", label: "ã€‡å¿œå¯¾è€…æ°å", type: "text" },
                { id: "datetime", label: "â—‹å—é›»æ—¥æ™‚", type: "text", value: () => new Date().toLocaleString() },
                { id: "tel", label: "â—‹å…¥é›»ç•ªå·", type: "text" },
                { id: "sender", label: "â—‹å…¥é›»è€…", type: "text" },
                { id: "type", label: "â—‹å—æ¶é›»", type: "text", value: "å—é›»" },
                { id: "window", label: "ã€‡çª“å£å", type: "text", prefix: "ã€", suffix: "ã€‘" },
                { id: "content", label: "ã€å•åˆã›å†…å®¹ã€‘", type: "textarea", full: true },
                { id: "ans", label: "ã€å›ç­”ã€‘", type: "textarea", full: true },
                { id: "iraisection", label: "ã€ä¾é ¼ãƒ»å‡¦ç†äº‹é …ã€‘", type: "fixed_label" },
                { id: "req_manage", label: "ä¾é ¼ç®¡ç†ä½œæˆ", type: "select", options: ["ä¸è¦", "è¦"], prefix: "ä¾é ¼ç®¡ç†ä½œæˆï¼š" },
                { id: "req_status", label: "å¯¾å¿œä¾é ¼", type: "select", options: ["ä¸è¦", "è¦", "è‡³æ€¥è¦"], prefix: "å¯¾å¿œä¾é ¼ï¼š" },
                { id: "flag", label: "â€»å¯¾å¿œçŠ¶æ³ãƒ•ãƒ©ã‚°", type: "select", options: ["å¯¾å¿œä¸­", "æŠ˜è¿”ã—ç„¡"], prefix: "\nâ€»å¯¾å¿œçŠ¶æ³ãƒ•ãƒ©ã‚°ï¼š" }
            ]
        },
        kaden: {
            title: "",
            fields: [
                { id: "datetime", label: "â—‹æ¶é›»æ—¥æ™‚", type: "text", value: () => new Date().toLocaleString() },
                { id: "staff_name", label: "ã€‡å¿œå¯¾è€…æ°å", type: "text" },
                { id: "tel", label: "â—‹æ¶é›»ç•ªå·", type: "text" },
                { id: "staff_rep", label: "â—‹å¯¾å¿œè€…", type: "text" },
                { id: "type", label: "â—‹å—æ¶é›»", type: "text", value: "æ¶é›»" },
                { id: "content", label: "ã€æ¶é›»å†…å®¹ã€‘", type: "textarea", full: true },
                { id: "result", label: "ã€æ¶é›»çµæœã€‘", type: "textarea", full: true },
                { id: "iraisection", label: "ã€ä¾é ¼ãƒ»å‡¦ç†äº‹é …ã€‘", type: "fixed_label" },
                { id: "req_manage", label: "ä¾é ¼ç®¡ç†ä½œæˆ", type: "select", options: ["ä¸è¦", "è¦"], prefix: "ä¾é ¼ç®¡ç†ä½œæˆï¼š" },
                { id: "req_status", label: "å¯¾å¿œä¾é ¼", type: "select", options: ["ä¸è¦", "è¦", "è‡³æ€¥è¦"], prefix: "å¯¾å¿œä¾é ¼ï¼š" },
                { id: "flag", label: "â€»å¯¾å¿œçŠ¶æ³ãƒ•ãƒ©ã‚°", type: "select", options: ["å¯¾å¿œä¸­", "æŠ˜è¿”ã—ç„¡", "æŠ˜è¿”ã—å®Œäº†"], prefix: "\nâ€»å¯¾å¿œçŠ¶æ³ãƒ•ãƒ©ã‚°ï¼š" }
            ]
        },
        cancel: {
            title: "ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€‘",
            fields: [
                { id: "sw_date", label: " ãƒ»ã‚¹ã‚¤ãƒƒãƒãƒ³ã‚°æ—¥", type: "text" },
                { id: "title_mid", label: " ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€‘", type: "fixed_label" },
                { id: "tel", label: " â—å…¥é›»ç•ªå·", type: "text", suffix: "ï¼šä»Šå›é›»è©±é ‚ã„ãŸç•ªå·" },
                { id: "confirm", label: " â—æœ¬äººç¢ºèª(ç”³è¾¼æ›¸ç•ªå·,æ°å,ç”Ÿå¹´æœˆæ—¥,ä½æ‰€ )", type: "text" },
                { id: "rep", label: " â—ä»£è¡¨è€…", type: "text" },
                { id: "reason", label: " â—ã‚­ãƒ£ãƒ³ã‚»ãƒ«ç†ç”±", type: "text" },
                { id: "range", label: " â—ä¸€éƒ¨æ‹ ç‚¹ã‚­ãƒ£ãƒ³ã‚»ãƒ«/å…¨æ‹ ç‚¹ã‚­ãƒ£ãƒ³ã‚»ãƒ«", type: "select", options: ["å…¨æ‹ ç‚¹ã‚­ãƒ£ãƒ³ã‚»ãƒ«", "ä¸€éƒ¨æ‹ ç‚¹ã‚­ãƒ£ãƒ³ã‚»ãƒ«"] },
                { id: "point", label: " â—ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹åœ°ç‚¹", type: "text", suffix: "ï¼šã‚­ãƒ£ãƒ³ã‚»ãƒ«å¯¾è±¡ã®ä¾›çµ¦åœ°ç‚¹ç•ªå·" },
                { id: "other_no", label: " â—ä»–ç”³è¾¼ç•ªå·", type: "select", options: ["ç„¡", "æœ‰"], suffix: "ï¼šæœ‰ãƒ»ç„¡" },
                { id: "other_no_val", label: " â€»æœ‰ã®å ´åˆã€è©²å½“ç”³è¾¼ç•ªå·", type: "text", prefix: "ï¼š â†’æœ‰ã®å ´åˆã¯å¯¾è±¡ç”³è¾¼ç•ªå·è¨˜è¼‰" },
                { id: "before", label: " â—åˆ‡æ›¿å‰ã‹ï¼Ÿ", type: "text" },
                { id: "mis", label: " â—å…¥é•ã„ã§ã®æ›¸é¢ç™ºé€", type: "text" },
                { id: "notice", label: " â—é€šçŸ¥", type: "select", options: ["FAX", "SMS", "éƒµé€"], suffix: "ï¼šFAX/SMS/éƒµé€" },
                { id: "notice_dest", label: " â—é€šçŸ¥å…ˆã®é›»è©±ç•ªå·/ä½æ‰€", type: "text", suffix: "ï¼šFAX/SMSã§ã‚ã‚Œã°å¯¾è±¡ã®ç•ªå·ã€éƒµé€ã§ã‚ã‚Œã°å¯¾è±¡ã®ä½æ‰€" },
                { id: "lead", label: " â—é€šçŸ¥ã¾ã§ã®ãƒªãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ ", type: "text" }
            ]
        },
        denki: {
            title: "ã€é›»æ°—å»ƒæ­¢ã€‘",
            fields: [
                { id: "moushikomi", label: "â—ç”³è¾¼æ›¸ç•ªå·", type: "text" },
                { id: "addr", label: "â—è§£ç´„ä½æ‰€", type: "text" },
                { id: "range", label: "â—ä¸€éƒ¨æ‹ ç‚¹å»ƒæ­¢/å…¨æ‹ ç‚¹å»ƒæ­¢", type: "select", options: ["å…¨æ‹ ç‚¹å»ƒæ­¢", "ä¸€éƒ¨æ‹ ç‚¹å»ƒæ­¢"] },
                { id: "point", label: "â—å»ƒæ­¢ã™ã‚‹åœ°ç‚¹", type: "text" },
                { id: "hope_date", label: "â—è§£ç´„å¸Œæœ›æ—¥", type: "text" },
                { id: "stop_date", label: "â—å»ƒæ­¢æ—¥", type: "text", suffix: "\n(20â—â—/â—/â—ã¾ã§åˆ©ç”¨ã™ã‚‹ï¼ä¾é ¼ç®¡ç†ã¨åŒä¸€)" },
                { id: "reason", label: "â—å»ƒæ­¢ç†ç”±", type: "text" },
                { id: "kaitai_base", label: "â—è§£ä½“ã‚ã‚Š/ãªã—ãƒ»ç«‹ä¼šã‚ã‚Š/ãªã—", type: "select", options: ["è§£ä½“ãªã—ãƒ»ç«‹ä¼šãªã—", "è§£ä½“ã‚ã‚Šãƒ»ç«‹ä¼šã‚ã‚Š", "è§£ä½“ã‚ã‚Šãƒ»ç«‹ä¼šãªã—", "è§£ä½“ãªã—ãƒ»ç«‹ä¼šã‚ã‚Š"], suffix: "ï¼ˆè§£ä½“æœ‰ã®å ´åˆã€åŸå‰‡ã€å»ƒæ­¢ç¿Œæ—¥ä»¥é™æœŸæ—¥è¨­å®šï¼‰" },
                { id: "kaitai_time", label: "ï¼ˆè§£ä½“ã‚ã‚Šã®å ´åˆï¼‰â—ãƒ¡ãƒ¼ã‚¿ãƒ¼æ’¤å»æ—¥æ™‚", type: "text", placeholder: "ã€‡ã€‡ã€‡ã€‡/ã€‡/ã€‡ ã€‡æ™‚" },
                { id: "kaitai_rep", label: "ï¼ˆè§£ä½“ã‚ã‚Šã€ã‹ã¤ã€ç«‹ä¼šã‚ã‚Šã®å ´åˆï¼‰â—ç«‹ä¼šæ‹…å½“/è§£ä½“æ¥­è€…", type: "text", suffix: "ï¼šã€‡ã€‡ã€‡ã€‡é€£çµ¡å…ˆï¼šã€‡ã€‡ã€‡ã€‡" },
                { id: "kaitai_yotei", label: "ï¼ˆè§£ä½“ã‚ã‚Šã€ã‹ã¤ã€ç«‹ä¼šã‚ã‚Šã®å ´åˆï¼‰â—ç«‹ä¼šäºˆå®šæ—¥", type: "text", suffix: "ï¼šã€‡ã€‡ã€‡ã€‡/ã€‡/ã€‡ ã€‡æ™‚\nâ†’è§£ä½“æœ‰ã®å ´åˆã¯ã€è§£ä½“æ—¥ã¾ã§è¨˜è¼‰å¿…é ˆ" },
                { id: "send_opt", label: "â—è«‹æ±‚æ›¸é€ä»˜å…ˆå¤‰æ›´è¦å¦", type: "fixed_label", suffix: "\nãƒ»ä¸è¦ï¼šDBä¸Šã®é€ä»˜å…ˆã¸å±Šãï¼ˆä»–åœ°ç‚¹ã¯ç¶™ç¶šã®ç‚ºï¼‰\nãƒ»ä¸è¦ï¼šåŒä½æ‰€ã§ã€åŒä¸€å•†å·ã§ã€äº‹æ¥­ã‚’ç¶™ç¶šã™ã‚‹ã€‚\nãƒ»å¿…è¦ï¼šå»ºç‰©ã‚’è§£ä½“ã™ã‚‹ç‚ºã€ç¾é€ä»˜å…ˆã¸ã¯å±Šã‹ãªã„ã€‚\nãƒ»å¿…è¦ï¼šä½æ‰€ã¯å¤‰æ›´ãªã—ã ãŒã€å®›åã‚’â—â—æ–¹ã¨ä»˜è¨˜ã—ã¦ã»ã—ã„ã€‚" },
                { id: "new_addr", label: "â—å¤‰æ›´å…ˆ", type: "text" },
                { id: "atena", label: "â—å®›å", type: "text" },
                { id: "tel_after", label: "â—è§£ç´„å¾Œé€£çµ¡å…ˆ", type: "text" },
                { id: "other_no", label: "â—ä»–ç”³è¾¼ç•ªå·", type: "select", options: ["ç„¡", "æœ‰"], suffix: "ï¼šæœ‰ãƒ»ç„¡" },
                { id: "other_no_val", label: "â€»æœ‰ã®å ´åˆã€è©²å½“ç”³è¾¼ç•ªå·", type: "text" },
                { id: "renzoku", label: "â—åŒä¸€ç”³è¾¼æ›¸ç•ªå·ç¶™ç¶šæ‹ ç‚¹", type: "select", options: ["ç„¡", "æœ‰"], suffix: "ï¼šæœ‰ãƒ»ç„¡" },
                { id: "renzoku_val", label: "â€»æœ‰ã®å ´åˆã€è©²å½“åœ°ç‚¹ç•ªå·", type: "text" },
                { id: "penalty", label: "â—é•ç´„é‡‘", type: "text", suffix: " å††\nâ€»è§£ç´„äº‹å‹™æ‰‹æ•°æ–™+ç‰¹åˆ¥è¿½åŠ å‰²å¼•ãŒã‚ã‚‹å ´åˆã¯æ¡ˆå†…" },
                { id: "long", label: "â—é•·æœŸå‰²OPèª¬æ˜", type: "select", options: ["æ¡ˆå†…æ¸ˆã¿", "ä»˜å¸¯ãªã—"], suffix: "ï¼šæ¡ˆå†…æ¸ˆã¿/ä»˜å¸¯ãªã—" },
                { id: "last_bill", label: "â—æœ€çµ‚è«‹æ±‚ã®æ™‚æœŸãƒ»è«‹æ±‚ãšã‚Œ", type: "text", value: "æ¡ˆå†…ãšã¿" },
                { id: "cvs", label: "â—ã‚³ãƒ³ãƒ“ãƒ‹æ‰•ã„ã®å¯èƒ½æ€§", type: "text", value: "æ¡ˆå†…ãšã¿" },
                { id: "death_sec", label: "ã€Šå¥‘ç´„è€…ï¼ˆå±‹å·/å€‹äººï¼‰æ­»äº¡ã®å ´åˆã€‹â€»æ³•äººã¯é™¤å¤–", type: "fixed_label" },
                { id: "death_info", label: "æ­»äº¡è¨¼æ˜æå‡ºæ¡ˆå†…æ¸ˆã¿", type: "text", value: "åœ°åŸŸå‰µç”Ÿæœ¬ç¤¾ã¸éƒµé€" },
                { id: "death_mou", label: "ç”³è¾¼æ›¸ç•ªå·è¨˜è¼‰æ¡ˆå†…æ¸ˆã¿", type: "text", value: "æ¡ˆå†…æ¸ˆã¿" }
            ]
        },
        gas: {
            title: "ã€ã‚¬ã‚¹å»ƒæ­¢ã€‘",
            fields: [
                { id: "close_date", label: " â—é–‰æ “æ—¥", type: "text" },
                { id: "close_reason", label: " â—é–‰æ “ç†ç”±", type: "text" },
                { id: "addr", label: " â—è§£ç´„ä½æ‰€", type: "text" },
                { id: "point", label: " â—æ‹ ç‚¹ç•ªå·", type: "text", suffix: "ï¼š(è§£ç´„ã™ã‚‹æ‹ ç‚¹ç•ªå·)" },
                { id: "time", label: " â—æ™‚é–“å¸¯æŒ‡å®š", type: "select", options: ["9æ™‚-12æ™‚", "13æ™‚-15æ™‚", "15æ™‚-17æ™‚"], suffix: "ï¼š(9æ™‚-12æ™‚/13æ™‚-15æ™‚/15æ™‚-17æ™‚)" },
                { id: "meter", label: " â—ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®ä½ç½®ãƒ»ã‚ªãƒ¼ãƒˆãƒ­ãƒƒã‚¯æœ‰ç„¡", type: "text" },
                { id: "witness", label: " â—é–‰æ “ç«‹ä¼šã„æœ‰ç„¡", type: "text", suffix: "ï¼š(åŸå‰‡ã‚ã‚Š)" },
                { id: "witness_type", label: " â—é–‰æ “ç«‹ä¼šã„è€…åŒºåˆ†", type: "select", options: ["ä»£è¡¨", "é…å¶è€…", "ç®¡ç†äºº", "å®¶æ—", "ãã®ä»–"], suffix: "ï¼šï¼ˆä»£è¡¨ãƒ»é…å¶è€…ãƒ»ç®¡ç†äººãƒ»å®¶æ—ãƒ»ãã®ä»–ï¼‰" },
                { id: "witness_name", label: " â—é–‰æ “ç«‹ä¼šã„è€…å", type: "text" },
                { id: "pre_call", label: " â—å½“æ—¥äº‹å‰é€£çµ¡æœ‰ç„¡", type: "text" },
                { id: "pre_tel", label: " â—äº‹å‰é€£çµ¡å…ˆ", type: "text", suffix: "ï¼š â€»äº‹å‰é€£çµ¡ä¸è¦ã§ã‚‚å¿…é ˆ" },
                { id: "change_msg", label: " ä¸‹è¨˜å¤‰æ›´ãŒå¿…è¦ã§ã‚ã‚Œã°", type: "fixed_label" },
                { id: "after_send", label: " â—è§£ç´„å¾Œè«‹æ±‚æ›¸é€ä»˜å…ˆ", type: "text" },
                { id: "atena", label: " â—å®›å", type: "text" },
                { id: "after_tel", label: " â—è§£ç´„å¾Œã®é€£çµ¡å…ˆ", type: "text" },
                { id: "other_no", label: " â—ä»–ç”³è¾¼ç•ªå·", type: "select", options: ["ç„¡", "æœ‰"], suffix: "ï¼šæœ‰ãƒ»ç„¡" },
                { id: "other_no_val", label: " â€»æœ‰ã®å ´åˆã€è©²å½“ç”³è¾¼ç•ªå·", type: "text" },
                { id: "penalty", label: " â—é•ç´„é‡‘", type: "text", suffix: " å††\n â€»è§£ç´„äº‹å‹™æ‰‹æ•°æ–™+ç‰¹åˆ¥è¿½åŠ å‰²å¼•ãŒã‚ã‚‹å ´åˆã¯æ¡ˆå†…" },
                { id: "last_bill", label: " â—æœ€çµ‚è«‹æ±‚ã®æ™‚æœŸãƒ»è«‹æ±‚ãšã‚Œ", type: "text" },
                { id: "cvs", label: " â—ã‚³ãƒ³ãƒ“ãƒ‹æ‰•ã„ã®å¯èƒ½æ€§", type: "text" },
                { id: "nichigas", label: " â—é–‰æ “ã¯ãƒ‹ãƒã‚¬ã‚¹ã‹ã‚‰ç›´å‰ã«å…¥ã‚‹", type: "text" },
                { id: "kaitai_yesno", label: " â—è§£ä½“ã®æœ‰ç„¡", type: "text" },
                { id: "kaitai_info", label: " ã€é–‰æ “+å»ºç‰©è§£ä½“ãŒã‚ã‚‹å ´åˆã€‘", type: "fixed_label", suffix: "\n å»ºç‰©ã‚’è§£ä½“ã™ã‚‹å ´åˆã€â—â—ã‚¬ã‚¹ã§åˆ‡ã‚Šé›¢ã—ç­‰ã®å·¥äº‹ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã®ã§ã€\n ãŠæ‰‹æ•°ã§ã¯ã”ã–ã„ã¾ã™ãŒã€â—â—æ§˜ã‹ã‚‰ã€åœ°åŸŸã®ã‚¬ã‚¹ä¼šç¤¾ã¸ã”é€£çµ¡ã„ãŸã ãã€\n å»ºç‰©ã®è§£ä½“å·¥äº‹ãŒã‚ã‚‹ã“ã¨ã¨ã€åœ°å¢ƒæ’¤å» (ã˜ã–ã‹ã„ã¦ã£ãã‚‡)ã‚’ã—ã¦ã»ã—ã„æ—¨ã€ãŠä¼ãˆã„ãŸã ã‘ã¾ã™ã‚ˆã†ã«ãŠé¡˜ã„è‡´ã—ã¾ã™ã€‚" },
                { id: "death_sec", label: " ã€Šå¥‘ç´„è€…ï¼ˆå±‹å·/å€‹äººï¼‰æ­»äº¡ã®å ´åˆã€‹â€»æ³•äººã¯é™¤å¤–", type: "fixed_label" },
                { id: "death_msg", label: " ãƒ»æ­»äº¡è¨¼æ˜æå‡ºæ¡ˆå†…æ¸ˆã¿", type: "text", value: "åœ°åŸŸå‰µç”Ÿæœ¬ç¤¾ã¸éƒµé€/FAXç•ªå·æ¡ˆå†…" },
                { id: "death_mou", label: " ç”³è¾¼æ›¸ç•ªå·è¨˜è¼‰æ¡ˆå†…æ¸ˆã¿", type: "text" }
            ]
        }
    };

    let currentTab = 'juden';

    function renderForm(tab) {
        currentTab = tab;
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.toggle('active', b.innerText.includes(tab === 'denki' ? 'é›»æ°—' : (tab === 'gas' ? 'ã‚¬ã‚¹' : (tab === 'juden' ? 'å—é›»' : (tab === 'kaden' ? 'æ¶é›»' : 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«'))))));
        const container = document.getElementById('form-content');
        container.innerHTML = '';
        
        configs[tab].fields.forEach(f => {
            if(f.type === 'fixed_label') return;
            const div = document.createElement('div');
            div.className = `form-group ${f.full ? 'full-width' : ''}`;
            const label = document.createElement('label');
            label.innerText = f.label.replace(/[ã€‡â—‹â—ãƒ»]/g, '').trim();
            div.appendChild(label);
            
            let el;
            if(f.type === 'select') {
                el = document.createElement('select');
                f.options.forEach(o => {
                    const opt = document.createElement('option');
                    opt.value = o; opt.innerText = o; el.appendChild(opt);
                });
            } else if(f.type === 'textarea') {
                el = document.createElement('textarea');
            } else {
                el = document.createElement('input'); el.type = 'text';
            }
            el.id = f.id;
            if(f.value) el.value = typeof f.value === 'function' ? f.value() : f.value;
            el.oninput = updatePreview;
            div.appendChild(el);
            container.appendChild(div);
        });
        updatePreview();
    }

    function updatePreview() {
        const conf = configs[currentTab];
        let text = conf.title ? conf.title + "\n" : "";
        
        conf.fields.forEach(f => {
            if(f.type === 'fixed_label') {
                text += `\n${f.label}${f.suffix || ""}\n`;
                return;
            }
            const el = document.getElementById(f.id);
            if(!el) return;
            const val = el.value || "";
            const prefix = f.prefix || "";
            const suffix = f.suffix || "";

            if (f.label.startsWith('ã€')) {
                text += `\n${f.label}\n${val}\n`;
            } else if (currentTab === 'juden' || currentTab === 'kaden') {
                if (f.type === 'select') { text += `${prefix}${val}${suffix}\n`; }
                else { text += `${f.label}ï¼š${val}\n`; }
            } else {
                // ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ»å»ƒæ­¢ç³»
                const labelText = f.label.includes('ï¼š') ? f.label : f.label + 'ï¼š';
                text += `${labelText}${prefix}${val}${suffix}\n`;
            }
        });
        
        if(currentTab === 'juden' || currentTab === 'kaden') {
            text += "-----------------------------------------------------";
        }
        document.getElementById('output').innerText = text;
    }

    function copyToClipboard() {
        const text = document.getElementById('output').innerText;
        navigator.clipboard.writeText(text).then(() => alert("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼"));
    }

    renderForm('juden');
</script>
</body>
</html>
